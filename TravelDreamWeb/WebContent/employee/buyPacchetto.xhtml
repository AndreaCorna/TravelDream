<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"> 

<h:head>
<title>Personalizza Pacchetto</title>
	#{pacchetto.initPersonalizza(param['id'])}</h:head> 
<body> 
<h:form>

		<p:panel header="Personalizza il pacchetto">
			 
			<h:panelGrid columns="1" id="regGrid">
				
				<h:outputLabel for="nome" />Destinazione:
                <h:outputText value="#{pacchetto.pacchetto.destinazione}" />
                <h:outputLabel for="inizio" />Inizio Validita:
                <h:outputText value="#{pacchetto.pacchetto.inizio_Validita}" />
                <h:outputLabel for="fine" />Fine Validita:
                <h:outputText value="#{pacchetto.pacchetto.fine_Validita}" />
                <h:outputLabel for="fine" />Numero di Persone:
                <h:outputText value="#{pacchetto.pacchetto.numeroPersone}" />
                <h:outputLabel for="andataAerei" />Aerei di Andata:
                <p:dataList value="#{pacchetto.pacchetto.aereiAndata}" var="aereo" itemType="circle">  
   				 	#{aereo.id}, #{aereo.data}, #{aereo.cittaDecollo}, #{aereo.costo}  
				</p:dataList>
				<p:selectOneListbox value="#{pacchetto.prenotazione.aereoAndata}" >
    				<f:selectItems value="#{pacchetto.listaAereiAndata}" var="aereo"
      				  itemValue="#{aereo}" itemLabel="#{aereo.id}" />
				</p:selectOneListbox>  
				
                <p></p>
				<h:outputLabel for="andataRitorno" />Aerei di Ritorno:
				<p:dataList value="#{pacchetto.pacchetto.aereiRitorno}" var="aereo" itemType="circle">  
   				 	#{aereo.id}, #{aereo.data}, #{aereo.cittaAtterraggio}  
				</p:dataList>  
				<p:selectOneListbox value="#{pacchetto.prenotazione.aereoRitorno}" >
    				<f:selectItems value="#{pacchetto.listaAereiRitorno}" var="aereo"
      				  itemValue="#{aereo}" itemLabel="#{aereo.id}" />
				</p:selectOneListbox>  
				
                  <p></p>
				<h:outputLabel for="hotel" />Hotel:
				<p:dataList value="#{pacchetto.pacchetto.hotels}" var="hotel" itemType="circle">  
   				 	#{hotel.id}, #{hotel.nome}, #{hotel.citta}, #{hotel.rating}
				</p:dataList>  
				<p:selectOneListbox value="#{pacchetto.prenotazione.hotel}" >
    				<f:selectItems value="#{pacchetto.listaHotel}" var="hotel"
      				  itemValue="#{hotel}" itemLabel="#{hotel.id}" />
				</p:selectOneListbox>  
                 <p></p>
				<h:outputLabel for="escursioni" />Escursioni:
				<p:dataList value="#{pacchetto.pacchetto.escursioni}" var="escur" itemType="circle">  
   				 	#{escur.id}, #{escur.luogo}, #{escur.data}  
				</p:dataList>
				<p:pickList id="pickList" value="#{pacchetto.listaSelezioneEscursioni}" var="esc"   
                itemLabel="#{esc}" itemValue="#{esc}" effect="bounce">  
                <p:ajax event="transfer" listener="#{pacchetto.onTransfer}" update="msg" />
                </p:pickList>
				<p:growl id="msg" showDetail="true" escape="false" />  
                 <p></p>
				<h:outputLabel for="escursioni" />Descrizione:
				<p:column id="descri" headerText="Descrizione" footerText="Descrizione"  >  
		            <h:outputText value="#{pacchetto.pacchetto.descrizione}" />  
		        </p:column>  
			</h:panelGrid>
			<p:commandButton value="Prenota" id="ajax"  ajax="false" action="#{pacchetto.prenotaPacchetto}" styleClass="ui-priority-primary"/>  
			 <p><a href="index.xhtml">Torna alla homepage</a></p>
		</p:panel>
</h:form>
</body> 
</html>
