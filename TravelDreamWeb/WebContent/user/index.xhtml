<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<h:head>
#{utente.caricaProfiloUtente()}
#{prenotazione.mostraPrenotazioni()}
#{pacchetto.mostraOfferte()}
</h:head>
<h:body>
	
<h:form>
   <!--      
    <p:selectOneMenu value="#{tabBean.effect}" onchange="$('#tabform').submit()" style="margin-bottom:10px">
        <f:selectItem itemLabel="Fade" itemValue="fade" />
        <f:selectItem itemLabel="Slide" itemValue="slide" />
        <f:selectItem itemLabel="Blind" itemValue="blind" />
        <f:selectItem itemLabel="Clip" itemValue="clip" />
        <f:selectItem itemLabel="Drop" itemValue="drop" />
        <f:selectItem itemLabel="Explode" itemValue="explode" />
        <f:selectItem itemLabel="Fold" itemValue="fold" />
        <f:selectItem itemLabel="Puff" itemValue="puff" />
        <f:selectItem itemLabel="Scale" itemValue="scale" />
    </p:selectOneMenu>
	-->    
	<p:graphicImage value="../immagini/principale.jpg" />
               
    <p:tabView effect="drop" effectDuration="normal">
		 <p:tab title="Offerte Speciali">
        	<h:panelGrid columns="4" id="regOff">
    			<p:dataTable id="tabellaOff" var="pac" value="#{pacchetto.datiPacchettiCasuali}" widgetVar="tabellaOfferte"   
          			  emptyMessage="Nessuna offeta soddisfa i requisiti di ricerca" filteredValue="#{pacchetto.listaPacchettiSelezionati}"
          			  		selectionMode="single" >  
  
  
         		<f:facet name="header">  
          			  <p:outputPanel>  
              		  		<h:outputText value=" Benvenuto #{utente.getUsername()} 
acquista una delle nostre offerte speciali scelte per te e personalizzala come vuoi!!!" />  
               		 		</p:outputPanel>  
       			 </f:facet>  
  
		        <p:column id="dest"
		                headerText="Destinazione" 
		               >  
		            <h:outputText value="#{pac.destinazione}" />  
		        </p:column> 
		        
		        <p:column id="hotel"   
		                headerText="Soggiorno presso " >  
		            <h:outputText value="#{pac.hotels.get(0).nome}" />  
		        </p:column>
		        
		        <p:column id="fine_Validita"   
		                headerText="Puoi acquistare il pacchetto fino al " >  
		            <h:outputText value="#{pac.fine_Validita}" />  
		        </p:column> 
		        
		        <p:column id="descri" headerText="Descrizione"   >  
		            <h:outputText value="#{pac.descrizione}" />  
		        </p:column>  
		        
		        <p:column headerText="" style="width:24%" >  
                <h:link outcome = "buyPacchetto?id=#{pac.id}"  value="ACQUISTALO SUBITO"/>
         </p:column>  
  
		        	 </p:dataTable>  
      	<p></p>
      	</h:panelGrid>
      	
  
  
 
		
        </p:tab>
		  
         <p:tab title="Profilo">
            <h:panelGrid columns="2" cellpadding="10">
                <p:graphicImage value="/images/godfather/godfather1.jpg" />
                <h:outputLabel  for="nome" />Nome:
                <h:outputText id="nome" value="#{utente.utente.nome}" />
                <h:outputLabel for="cognome">Cognome:</h:outputLabel>
                <h:outputText id="cognome" value="#{utente.utente.cognome}" />
                <h:outputLabel  for="residenza">Residenza:</h:outputLabel>
                <h:outputText id="residenza" value="#{utente.utente.residenza}" />
                <h:outputLabel  for="data_nascita">Data di Nascita:</h:outputLabel>
                <h:outputText id="data_nascita" value="#{utente.utente.dataNascita}" />
                <h:outputLabel for="luogo_nascita">Luogo di Nascita:</h:outputLabel>
                <h:outputText id="luogo_nascita" value="#{utente.utente.luogoNascita}" />
                <h:outputLabel  for="cf">Codice Fiscale:</h:outputLabel>
                <h:outputText id = "cf" value="#{utente.utente.codiceFiscale}" />
                <h:outputLabel  for="telefono">Telefono:</h:outputLabel>
                <h:outputText id = "telefono" value="#{utente.utente.telefono}" />
                <h:outputLabel  for="email">Email:</h:outputLabel>
                <h:outputText id = "email" value="#{utente.utente.email}" />
                <p><a href="modificaProfilo.xhtml">Modifica il tuo profilo</a></p>
            </h:panelGrid>
        </p:tab>
  
        <p:tab title="Acquista Viaggio">
         <h:panelGrid columns="2" cellpadding="10">
         	<p></p>
       		<p><a href="acquistaViaggio.xhtml">Cerca un Volo</a></p>
			<p></p>
			<p><a href="acquistaHotelViaggio.xhtml">Cerca un Hotel</a></p>
			<p></p>
			<p></p>
			<p><a href="acquistaEscursione.xhtml">Cerca un Escursione</a></p>
			<p></p>
		</h:panelGrid>
		
		</p:tab>
		<p:tab title="Mostra Prenotazioni">
        	<h:panelGrid columns="4" id="regGrid">
    			<p:dataTable id="tabella" var="pac" value="#{prenotazione.datiPrenotazione}" widgetVar="tabellaPrenotazioni"   
          			  emptyMessage="Non hai effettuato alcuna prenotazione" filteredValue="#{prenotazione.prenotazioniSelezionate}"
          			  		selectionMode="single" >  
  
         		<f:facet name="header">  
          			  <p:outputPanel>  
              		  		<h:outputText value="PACCHETTI CHE HAI PRENOTATO -> Cerca  su tutti i campi:" />  
               		 		<p:inputText id="globalFilter" onkeyup="tabellaPrenotazioni.filter()" style="width:150px" />  
            			</p:outputPanel>  
       			 </f:facet>  
  
		        <p:column id="id" filterBy="id"   
		                headerText="id" footerText="id"
		                filterMatchMode="contains">  
		            <h:outputText value="#{pac.id}" />  
		        </p:column> 
		        
		        <p:column id="pacchetto" filterBy="pacchetto"   
		                headerText="pacchetto" footerText="pacchetto"  
		                filterMatchMode="contains">  
		            <h:outputText value="#{pac.pacchetto.getId()}" />  
		        </p:column>
		        
		        <p:column id="data" filterBy="data"   
		                headerText="data" footerText="data"  
		                filterMatchMode="contains">  
		            <h:outputText value="#{pac.data}" />  
		        </p:column> 
		        
		        <p:column id="escursioni" filterBy="escursioni"   
		                headerText="escursioni" footerText="escursioni"  
		                filterMatchMode="contains">  
		            <h:outputText value="#{pac.escursioni}" />  
		        </p:column> 
		        <p:column id="aereoAndata" filterBy="aereoAndata"   
		                headerText="aereo Andata" footerText="aereoAndata"  
		                filterMatchMode="contains">  
		            <h:outputText value="#{pac.aereoAndata.data}" />  
		        </p:column>   
		         <p:column id="aereoRitorno" filterBy="aereoRitorno"   
		                headerText="aereo Ritorno" footerText="aereoRItorno"  
		                filterMatchMode="contains">  
		            <h:outputText value="#{pac.aereoRitorno.data}" />  
		        </p:column> 
		        <p:column id="hotel" filterBy="hotel"   
		                headerText="hotel" footerText="hotel"  
		                filterMatchMode="contains">  
		            <h:outputText value="#{pac.hotel.nome}" />  
		        </p:column> 
  
		        	 </p:dataTable>
		        	 </h:panelGrid>
		        	 <h:panelGrid columns="4" id="regGrid2">
    			 
  
		        <p:dataTable id="tabellaViaggi" var="pacV" value="#{prenotazione.datiPrenotazioneViaggio}" widgetVar="tabellaPrenotazioniViaggi"   
          			  emptyMessage="Non hai effettuato alcuna prenotazione" filteredValue="#{prenotazione.prenotazioniViaggioSelezionate}"
          			selectionMode="single" >  
  
         		<f:facet name="header">  
          			  <p:outputPanel>  
              		  		<h:outputText value="VIAGGI CHE HAI PRENOTATO -> Cerca  su tutti i campi:" />  
               		 		<p:inputText id="globalFilter" onkeyup="tabellaPrenotazioniViaggi.filter()" style="width:150px" />  
            			</p:outputPanel>  
       			 </f:facet>  
  
		        <p:column id="id" filterBy="id"   
		                headerText="id" footerText="id"
		                filterMatchMode="contains">  
		            <h:outputText value="#{pacV.id}" />  
		        </p:column>  
		      
		        <p:column id="data" filterBy="data"   
		                headerText="data" footerText="data"  
		                filterMatchMode="contains">  
		            <h:outputText value="#{pacV.data}" />  
		        </p:column> 
		       
		        <p:column id="aereoAndata" filterBy="aereoAndata"   
		                headerText="aereo Andata" footerText="aereoAndata"  
		                filterMatchMode="contains">  
		            <h:outputText value="#{pacV.aereoAndata.data}" />  
		        </p:column>   
		         <p:column id="aereoRitorno" filterBy="aereoRitorno"   
		                headerText="aereo Ritorno" footerText="aereoRitorno"  
		                filterMatchMode="contains">  
		            <h:outputText value="#{pacV.aereoRitorno.data}" />  
		        </p:column> 
		        <p:column id="hotel" filterBy="hotel"   
		                headerText="hotel" footerText="hotel"  
		                filterMatchMode="contains">  
		            <h:outputText value="#{pacV.hotel.nome}" />  
		        </p:column> 
  
		        	 </p:dataTable>  
      	<p></p>
      	</h:panelGrid>
			</p:tab>
			<p:tab title="Lista Offerte">
        	<h:panelGrid columns="4" id="regOff2">
    			<p:dataTable id="tabellaOff2" var="pac" value="#{pacchetto.datiPacchetti}" widgetVar="tabellaOfferte"   
          			  emptyMessage="Nessuna offeta soddisfa i requisiti di ricerca" filteredValue="#{pacchetto.listaPacchettiSelezionati}"
          			  		selectionMode="single" >  
  
         		<f:facet name="header">  
          			  <p:outputPanel>  
              		  		<h:outputText value="Cerca  su tutti i campi:" />  
               		 		<p:inputText id="globalFilter" onkeyup="tabellaOfferte.filter()" style="width:150px" />  
            			</p:outputPanel>  
       			 </f:facet>  
  
		        <p:column id="dest" filterBy="destinazione"   
		                headerText="Destinazione" footerText="Destinazione"
		                filterOptions="#{pacchetto.destinazioni}"
		                filterMatchMode="exact">  
		            <h:outputText value="#{pac.destinazione}" />  
		        </p:column> 
		        
		        <p:column id="inizio_Validita" filterBy="inizio_Validita"   
		                headerText="Inizio Offerta" footerText="Inizio Offerta"  
		                filterMatchMode="contains">  
		            <h:outputText value="#{pac.inizio_Validita}" />  
		        </p:column>
		        
		        <p:column id="fine_Validita" filterBy="fine_Validita"   
		                headerText="Fine Offerta" footerText="Fine Offerta"  
		                filterMatchMode="contains">  
		            <h:outputText value="#{pac.fine_Validita}" />  
		        </p:column> 
		        
		        <p:column id="descri" headerText="Descrizione" footerText="Descrizione"  >  
		            <h:outputText value="#{pac.descrizione}" />  
		        </p:column>  
		        
		        <p:column headerText="Personalizza" style="width:24%" >  
                <h:link outcome = "buyPacchetto?id=#{pac.id}"  value="Personalizza"/>
         </p:column>  
  
		        	 </p:dataTable>  
      	<p></p>
      	</h:panelGrid>
		
			</p:tab>
	<!--	<p:tab title="Mostra Prenotazione">
         <h:panelGrid columns="2" cellpadding="10">
         	<p></p>
       		<p><a href=".../mostraPrenotazione.xhtml">Le tue Prenotazioni</a></p>
			<p></p>
		</h:panelGrid>
		</p:tab> -->

    </p:tabView>

</h:form>
		<h:form>
		<p></p>
		<p:commandButton action="#{logout.logout}" value="Logout" />
	</h:form>
</h:body>
</html>
